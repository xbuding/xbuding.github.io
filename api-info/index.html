{"posts":[{"fileName":"lesslessshen-ru-li-jie-java-xu-ni-ji-jvm-gao-ji-te-xing-yu-zui-jia-shi-jian-greatergreater-de-yi-ge-li-zi","abstract":"","description":"前言 最近在重温《深入理解Java虚拟机JVM高级特性与最佳实践》，看到3.6章的 内存分配与回收策略 的栗子中，发现了以前一直没注意的现象。 看gc日志，首先要理解gc日志， 书中3.5.8 中已经说的很清楚了。 ``` [GC (All...","title":"《深入理解Java虚拟机JVM高级特性与最佳实践》的一个例子","tags":[],"feature":"","link":"https://xbuding.github.io/post/lesslessshen-ru-li-jie-java-xu-ni-ji-jvm-gao-ji-te-xing-yu-zui-jia-shi-jian-greatergreater-de-yi-ge-li-zi/","stats":{"text":"8 min read","time":436000,"words":1648,"minutes":8},"isTop":false,"toc":"<ul class=\"markdownIt-TOC\">\n<li><a href=\"#%E5%89%8D%E8%A8%80\">前言</a><br>\n*\n<ul>\n<li><a href=\"#%E7%9C%8Bgc%E6%97%A5%E5%BF%97%E9%A6%96%E5%85%88%E8%A6%81%E7%90%86%E8%A7%A3gc%E6%97%A5%E5%BF%97-%E4%B9%A6%E4%B8%AD358-%E4%B8%AD%E5%B7%B2%E7%BB%8F%E8%AF%B4%E7%9A%84%E5%BE%88%E6%B8%85%E6%A5%9A%E4%BA%86\">看gc日志，首先要理解gc日志， 书中3.5.8 中已经说的很清楚了。</a></li>\n<li><a href=\"#%E6%B5%8B%E8%AF%95%E4%BB%A3%E7%A0%81\">测试代码</a></li>\n<li><a href=\"#%E6%B5%8B%E8%AF%95%E7%BB%93%E6%9E%9C\">测试结果</a></li>\n<li><a href=\"#%E7%BB%93%E6%9E%9C%E5%88%86%E6%9E%90\">结果分析</a></li>\n<li><a href=\"#%E6%9C%89%E8%B6%A3%E7%9A%84%E7%8E%B0%E8%B1%A1%E6%98%AF\">有趣的现象是</a></li>\n<li><a href=\"#%E7%94%B1%E4%B8%8A%E9%9D%A2%E7%9A%84gc%E6%97%A5%E5%BF%97%E5%8F%AF%E4%BB%A5%E7%9C%8B%E5%87%BA%E6%9C%80%E5%90%8E%E7%BB%93%E6%9E%9C%E5%8F%91%E7%94%9F%E4%B8%80%E6%AC%A1minorgc%E5%92%8C%E4%B8%80%E6%AC%A1fullgc%E5%B9%B6%E4%B8%94%E6%98%AF-ergonomics%E5%B9%B6%E4%B8%94-allocation1-allocation2-allocation3-%E5%88%B0%E4%BA%86%E8%80%81%E5%B9%B4%E4%BB%A3allocation4-%E5%88%86%E9%85%8D%E5%88%B0%E4%BA%86-eden-%E7%84%B6%E5%90%8E%E5%86%8D%E6%AC%A1%E5%B0%86-allocation4%E6%94%B9%E6%88%905m%E7%9A%84%E5%A4%A7%E5%B0%8F%E5%90%8E%E7%BB%93%E6%9E%9C%E6%98%AF%E5%92%8C4m%E4%B8%80%E8%87%B4%E7%9A%84-eden8m%E5%8F%AA%E6%9C%89-4m%E4%BB%A5%E4%B8%8A%E6%89%8D%E5%B0%86%E6%96%B0%E7%9A%84%E5%AF%B9%E8%B1%A1%E5%88%86%E9%85%8D%E5%88%B0%E8%80%81%E5%B9%B4%E4%BB%A3%E8%80%8C%E4%B8%8D%E6%98%AF%E8%A7%A6%E5%8F%91minorgc-%E6%AF%8D%E9%B8%A1%E7%82%B9%E8%A7%A3%E5%92%AF\">由上面的GC日志可以看出最后结果，发生一次minorGC和一次FullGC（并且是 Ergonomics），并且 allocation1, allocation2, allocation3 到了老年代，allocation4 分配到了 eden。<br>\n然后再次将 allocation4改成5M的大小后，结果是和4M一致的。eden=8M，只有 4M以上才将新的对象分配到老年代，而不是触发minorGC。<s>母鸡点解咯！</s></a></li>\n</ul>\n</li>\n<li><a href=\"#%E6%80%BB%E7%BB%93\">总结</a></li>\n</ul>\n","date":"2020-04-08 14:18:20","dateFormat":"2020-04-08"}],"tags":[],"menus":[{"link":"/","name":"首页","openType":"Internal"},{"link":"/archives","name":"归档","openType":"Internal"},{"link":"/tags","name":"标签","openType":"Internal"},{"link":"/post/about","name":"关于","openType":"Internal"}],"themeConfig":{"themeName":"Chic","postPageSize":10,"archivesPageSize":50,"siteName":"xbuding","siteDescription":"DRY-你的问题主要是读书不多而想得太多","footerInfo":"<a href=\"http://www.beian.miit.gov.cn\">粤ICP备16095466号</a> © 2020 xbuding","showFeatureImage":true,"domain":"https://xbuding.github.io","postUrlFormat":"SLUG","tagUrlFormat":"SHORT_ID","dateFormat":"YYYY-MM-DD","feedFullText":true,"feedCount":10,"archivesPath":"archives","postPath":"post","tagPath":"tag"},"customConfig":{},"utils":{"now":1586327906445}}